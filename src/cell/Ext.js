// Generated by CoffeeScript 1.4.0

define(['util/hash', 'util/type', 'util/fn', 'util/extend', 'cell/util/spy'], function(hash, type, fn, extend, spy) {
  var Ext, getValue;
  getValue = function(v, callback) {
    var _callback,
      _this = this;
    _callback = function(value) {
      callback.call(_this, value);
    };
    if (type.isF(v)) {
      spy.watch(hash(this.view), fn.bind(v, this.view), _callback);
    } else {
      _callback(v);
    }
  };
  Ext = function(options) {
    this.options = options != null ? options : {};
    this.getValue = fn.bind(getValue, this);
  };
  Ext.prototype.run = function(element, view) {
    this.func(element, this.options, this.getValue, this.view = view);
  };
  Ext.extend = extend;
  return Ext;
});
