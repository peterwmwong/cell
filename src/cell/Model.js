// Generated by CoffeeScript 1.4.0

define(['util/type', 'cell/Events'], function(type, Events) {
  return Events.extend({
    constructor: function(attributes) {
      this._a = attributes || {};
    },
    get: function(key) {
      return this._a[key];
    },
    set: function(key, value) {
      var old_value;
      if ((type.isS(key)) && (this._a[key] !== value)) {
        old_value = this._a[key];
        this.trigger("change:" + key, this, (this._a[key] = value), old_value);
        return true;
      }
    },
    onChangeAndDo: function(key, cb, ctx) {
      if (this.on("change:" + key, cb, ctx)) {
        cb("initial:" + key, this, this.get(key));
      }
    }
  });
});
