/**
 * almond 0.2.3 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

var requirejs,require,define;(function(e){function t(e,t){return g.call(e,t)}function n(e,t){var n,i,r,o,u,l,c,s,f,a,d=t&&t.split("/"),h=v.map,p=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=d.concat(e.split("/")),s=0;e.length>s;s+=1)if(a=e[s],"."===a)e.splice(s,1),s-=1;else if(".."===a){if(1===s&&(".."===e[2]||".."===e[0]))break;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||p)&&h){for(n=e.split("/"),s=n.length;s>0;s-=1){if(i=n.slice(0,s).join("/"),d)for(f=d.length;f>0;f-=1)if(r=h[d.slice(0,f).join("/")],r&&(r=r[i])){o=r,u=s;break}if(o)break;!l&&p&&p[i]&&(l=p[i],c=s)}!o&&l&&(o=l,u=c),o&&(n.splice(0,u,o),e=n.join("/"))}return e}function i(t,n){return function(){return f.apply(e,_.call(arguments,0).concat([t,n]))}}function r(e){return function(t){return n(t,e)}}function o(e){return function(t){h[e]=t}}function u(n){if(t(p,n)){var i=p[n];delete p[n],m[n]=!0,s.apply(e,i)}if(!t(h,n)&&!t(m,n))throw Error("No "+n);return h[n]}function l(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function c(e){return function(){return v&&v.config&&v.config[e]||{}}}var s,f,a,d,h={},p={},v={},m={},g=Object.prototype.hasOwnProperty,_=[].slice;a=function(e,t){var i,o=l(e),c=o[0];return e=o[1],c&&(c=n(c,t),i=u(c),e||(e=t)),c?e=i&&i.normalize?i.normalize(e,r(t)):n(e,t):(e=n(e,t),o=l(e),c=o[0],e=o[1],c&&(i=u(c))),{f:c?c+"!"+e:e,n:e,pr:c,p:i}},d={require:function(e){return i(e)},exports:function(e){var t=h[e];return t!==void 0?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:c(e)}}},s=function(n,r,l,c){var s,f,v,g,_,y,w=[];if(c=c||n,"function"==typeof l){for(r=!r.length&&l.length?["require","exports","module"]:r,_=0;r.length>_;_+=1)if(g=a(r[_],c),f=g.f,"require"===f)w[_]=d.require(n);else if("exports"===f)w[_]=d.exports(n),y=!0;else if("module"===f)s=w[_]=d.module(n);else if(t(h,f)||t(p,f)||t(m,f))w[_]=u(f);else{if(!g.p)throw Error(n+" missing "+f);g.p.load(g.n,i(c,!0),o(f),{}),w[_]=h[f]}v=l.apply(h[n],w),n&&(s&&s.exports!==e&&s.exports!==h[n]?h[n]=s.exports:v===e&&y||(h[n]=v))}else n&&(h[n]=l)},requirejs=require=f=function(t,n,i,r,o){return"string"==typeof t?d[t]?d[t](n):u(a(t,n).f):(t.splice||(v=t,n.splice?(t=n,n=i,i=null):t=e),n=n||function(){},"function"==typeof i&&(i=r,r=o),r?s(e,t,n,i):setTimeout(function(){s(e,t,n,i)},15),f)},f.config=function(e){return v=e,f},define=function(e,n,i){n.splice||(i=n,n=[]),t(h,e)||t(p,e)||(p[e]=[e,n,i])},define.amd={jQuery:!0}})(),define("../../../src/almond",function(){}),define("cell/defineView",["cell/View"],function(e){var t;return t=window.__installedViews||{},{pluginBuilder:"cell/defineView-builder-plugin",load:function(n,i,r){var o;t[n]||(t=!0,o=document.createElement("link"),o.href=i.toUrl(n+".css"),o.rel="stylesheet",o.type="text/css",document.head.appendChild(o)),r(function(t){return t||(t={}),t.className=t._cellName=/(.*\/)?(.*)$/.exec(n)[2],e.extend(t)})}}}),define("util/hash",[],function(){var e;return e=0,function(t){var n;return(n=typeof t)+":"+("object"===n&&null!==t?t.$$hashkey||(t.$$hashkey=(++e).toString(36)):t)}}),define("util/type",{isA:Array.isArray||function(e){return e instanceof Array},isS:function(e){return"string"==typeof e},isF:function(e){return"function"==typeof e}}),define("util/fn",{bind:function(e,t){return function(){return e.apply(t,arguments)}}}),define("dom/data",[],function(){var e,t,n;return n=1,e={},t="dom-"+(new Date).getTime(),{get:function(i,r){var o,u,l;return l=!(null!=r),(o=i[t])?u=e[o]:l&&(e[i[t]=n++]=u={}),u?l?u:u[r]:void 0},set:function(i,r,o){var u,l;(u=i[t])?e[u][r]=o:(e[i[t]=n++]=l={},l[r]=o)},remove:function(n,i){var r,o;(r=n[t])&&(o=e[r])&&(null!=i?delete o[i]:(o.handle&&o.handle.destroy&&o.handle.destroy(),delete e[r],n[t]=void 0))}}}),define("util/ev",{rm:function(e,t,n){var i,r,o;for(r=-1,o="number"==typeof n;i=e[++r];)(o?i[n]===t:i[0]===t&&i[1]===n)&&e.splice(r--,1)}}),define("dom/browser",{msie:Number((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])}),define("dom/events",["util/ev","dom/browser","dom/data"],function(e,t,n){var i,r,o,u,l,c;return r=window.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},c=window.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},u=function(){i(this.elem,this.events)},o=function(e,n){var i;return i=function(i,r){var o,u,l,c,s;if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||document),null==i.defaultPrevented&&(l=i.preventDefault,i.preventDefault=function(){i.defaultPrevented=!0,l.call(i)},i.defaultPrevented=!1),i.isDefaultPrevented=function(){return i.defaultPrevented},o=n[r||i.type])for(c=0,s=o.length;s>c;c++)u=o[c],u[0].call(u[1]||e,i);8>=t.msie?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)},i.elem=e,i.events=n,i.destroy=u,i},i=function(e,t){var n;for(n in t)c(e,n,t[n]),delete t[n]},{on:l=function(e,t,i,u){var c,s,f,a;(f=n.get(e,"events"))||n.set(e,"events",f={}),(a=n.get(e,"handle"))||n.set(e,"handle",a=o(e,f)),(s=f[t])||("mouseenter"===t||"mouseleave"===t?(c=0,f.mouseenter=[],f.mouseleave=[],l(e,"mouseover",function(e){return c++,1===c?a(e,"mouseenter"):void 0}),l(e,"mouseout",function(e){return c--,0===c?a(e,"mouseleave"):void 0})):(r(e,t,a),f[t]=[]),s=f[t]),s.push([i,u])},off:function(t,r,o){var u;(u=n.get(t,"events"))&&(null!=r?null!=o?e.rm(u[r],o,0):(c(t,r,u[r]),delete u[r]):i(t,u))}}}),define("util/extend",[],function(){return function(e){var t,n,i,r;if(n=this,t=function(i){return this instanceof t?(n.call(this,i),e&&e.constructor&&e.constructor.call(this,i),void 0):new t(i)},t.extend=n.extend,i=function(){},i.prototype=n.prototype,t.prototype=new i,e)for(r in e)t.prototype[r]=e[r];return t}});var __slice=[].slice;define("cell/Events",["util/type","util/extend","util/ev"],function(e,t,n){var i;return i=function(){this._e={all:[]}},i.extend=t,i.prototype={constructor:i,on:function(t,n,i){var r;return e.isS(t)&&e.isF(n)?(((r=this._e)[t]||(r[t]=[])).push([n,i]),!0):void 0},off:function(e,t,i){var r,o;if(o=null!=e?{type:this._e[e]}:this._e,null!=t)null==i&&(i=0);else{if(null==i)return;t=i,i=1}for(e in o)(r=o[e])&&n.rm(r,t,i)},trigger:function(){var e,t,n,i,r;if(n=arguments[0],t=arguments.length>=2?__slice.call(arguments,1):[],e=this._e.all.concat(this._e[n]||[]),r=e.length)for(;r--;)i=e[r],i[0].apply(i[1],[n].concat(t))}},i}),define("cell/util/spy",["util/hash"],function(e){var t,n,i,r,o,u;return i=!1,n=window.requestAnimationFrame||function(e){return setTimeout(e,0)},o=!1,t={},u=function(){var e,n;o=!1,e=t,t={};for(n in e)e[n].f(e[n].e())},r=function(){t[e(this)]=this,o||(o=!0,n(u))},{addCol:function(){i&&(i.c[e(this)]=this)},addModel:function(t){var n,r,o,u,l;if(i){l={m:this,d:this.collection};for(o in l)u=l[o],u&&((n=i[o][r=e(u)])||(n=i[o][r]={m:u,p:{}}),n.p[t]=1)}},watch:function(e,t){var n,o,u,l,c,s,f,a,d,h,p;u={e:e,f:t},i={m:{},c:{},d:{}};try{a=e()}catch(v){}n=i,i=!1,h={0:n.m,1:n.d};for(d in h){l=h[d];for(d in l)if(c=l[d],(f=c.p)[void 0])c.m.on("all",r,u);else for(s in f)c.m.on("change:"+s,r,u)}p=n.c;for(d in p)o=p[d],o.on("add",r,u),o.on("remove",r,u);t(a)}}}),define("cell/Model",["util/type","cell/Events","cell/util/spy"],function(e,t,n){var i;return i=t.extend({constructor:function(e){this._a=e||{}},attributes:function(){var e,t;this._s(),t={};for(e in this._a)t[e]=this._a[e];return t},get:function(e){return this._s(e),this._a[e]},set:function(t,n){var i,r,o;return e.isS(t)&&this._a[t]!==n?(o=this._a[t],this.trigger(r="change:"+t,this,this._a[t]=n,o),(i=this.collection)&&i.trigger(r,this,n,o),!0):void 0},onChangeAndDo:function(e,t,n){this.on("change:"+e,t,n)&&t("initial:"+e,this,this.get(e))},_s:n.addModel})}),define("cell/Collection",["cell/Events","util/type","cell/Model","cell/util/spy"],function(e,t,n,i){var r,o;return o=function(e,t,n){return Function.call(void 0,"f","c","d","this._s();if(f==null)return;"+("var i=-1,t=this,l=t.length(),e"+(t||"")+";")+"while(++i<l){"+"e=t._i[i];"+e+"}"+(n||""))},r=e.extend({constructor:function(e){this._i=[],this.add(e)},model:n,at:function(e){return this._s(),this._i[e]},length:function(){return this._s(),this._i.length},indexOf:Array.prototype.indexOf?function(e){return this._s(),this._i.indexOf(e)}:o("if(e===f){return i}","","return -1"),toArray:function(){return this._s(),this._i.slice()},each:o("if(f.call(c,e,i,t)===!1)i=l"),map:o("r.push(f.call(c,e,i,t))",",r=[]","return r"),reduce:o("f=c.call(d,f,e,i,t)","","return f"),filterBy:o('for(k in f)if((v=f[k])==null||v===(x=e.get(k))||(typeof v=="function"&&v(x)))r.push(e)',",k,v,x,r=[]","return r"),pipe:function(e){var n,i,o,u;for(n=this,o=0,u=e.length;u>o;o++)i=e[o],t.isA(n=i.run(n))&&(n=new r(n));return n},add:function(e,n){var i,r;if(e){for(e=t.isA(e)?e.slice():[e],i=-1,r=e.length,null==n&&(n=this.length());r>++i;)this._i.splice(n++,0,e[i]=this._toM(e[i]));this.trigger("add",e,this,n-r)}},remove:function(e){var n,i,r,o,u,l;if(e){for(t.isA(e)||(e=[e]),n=-1,o=e.length,l=[],r=[];o>++n;)u=e[n],(i=this.indexOf(u))>-1&&(delete u.collection,l.push(u),r.push(i),this._i.splice(i,1));r.length&&this.trigger("remove",l,this,r)}},_toM:function(e){return e=e instanceof this.model?e:new n(e),e.collection=this,e},_s:i.addCol})}),define("cell/Ext",["util/type","util/fn","util/extend","cell/util/spy"],function(e,t,n,i){var r,o;return o=function(n,r){var o,u=this;o=function(e){r.call(u,e)},e.isF(n)?i.watch(t.bind(n,this.view),o):o(n)},r=function(e){this.options=null!=e?e:{},this.getValue=t.bind(o,this)},r.prototype.run=function(e,t){this.func(e,this.options,this.getValue,this.view=t)},r.extend=n,r}),define("cell/View",["util/hash","util/type","util/fn","dom/data","dom/events","cell/Model","cell/Collection","cell/Ext","cell/util/spy"],function(e,t,n,i,r,o,u,l,c){var s,f,a,d,h,p,v,m,g,_,y,w,x,b,A;return m=t.isA,g=t.isF,_=t.isS,b=c.watch,p=function(e,t){return function(){return e.call(t)}},y=function(){},v=document,w=function(e,t){for(var n;n=t.pop();)e.removeChild(n)},x=function(e,t,n,i){var r;return null==n&&(n=[v.createTextNode("")]),r=t._rcs(n,e,i[0]),w(e,i),r},s=function(e,t){this.r=function(n){var i;i=[],b(p(t,e),function(t){i=x(n,e,t,i)})}},d=function(e,t,n){this.r=function(i){var r;r=[],b(p(t,e),function(t){r=x(i,e,e.__["if"](t,n),r)})}},a=function(){this.h={}},a.prototype={push:function(e,t){var n,i;n=(i=this.h)[e]||(i[e]=[]),n.push(t)},shift:function(e){var t;return(t=this.h[e])?1===t.lengh?(delete this.h[e],t[0]):t.shift():void 0}},f=function(t,n,i){var r;r=new a,this.r=function(o){b(p(n,t),function(n){var u,l,c,s,f,d,p;for(f=[],d=new a,u=-1,s=n.length;s>++u;)(p=r.shift(c=e(l=n[u])))||(p=i.prototype instanceof h?new i({model:l}).el:i.call(t,l)),d.push(c,p),f.push(p);for(c in r.h)w(o,r.h[c]);for(r=d,u=-1,s=f.length;s>++u;)o.appendChild(f[u])})}},f.prototype.constructor=d.prototype.constructor=s,A=function(e){var t,n,i,o,u,c,s,f,a,d,m;for(t=[].slice.call(arguments,1),o=-1,c=t.length;c>++o&&t[o]instanceof l;);if(i=t.splice(0,o),t.length&&t[0].constructor===Object&&(a=t.shift()),_(e)){if(s=/^(\w+)?(#([\w\-]+))?(\.[\w\.\-]+)?$/.exec(e)){d=v.createElement(s[1]||"div"),s[3]&&d.setAttribute("id",s[3]),s[4]&&(d.className=s[4].slice(1).replace(/\./g," "));for(u in a)m=a[u],(f=/^on(\w+)/.exec(u))?r.on(d,f[1],m,this):g(m)?b(p(m,this),function(e){return function(t){d.setAttribute(e,t)}}(u)):d.setAttribute(u,m)}}else e&&e.prototype instanceof h&&(d=new e(a).el);if(d){for(;n=i.pop();)n.run(d,this);return this._rcs(t,d),d}},A["if"]=function(e,t){var n;return g(e)?new d(this.view,e,t):null!=(n=t[e?"then":"else"])?n.call(this.view):void 0},A.each=function(e,t){var n,i,r;if(e){if(e instanceof u&&(e=p(e.toArray,e)),g(e))return new f(this.view,e,t);for(i=e.length,n=-1,r=[];i>++n;)r.push(t.prototype instanceof h?new t({model:e[n]}).el:t.call(this.view,e[n],n,e));return r}},h=o.extend({constructor:function(e){var t;e=e||{},this.model=e.model,this.collection=e.collection,delete e.model,delete e.collection,this.options=e,A=h.prototype.__,t=this.__=n.bind(A,this),t["if"]=A["if"],t.each=A.each,t.view=this,this._re()},beforeRender:y,renderEl:function(){return v.createElement("div")},render:y,afterRender:y,__:A,_re:function(){var e,t,n;this.beforeRender(),this.el=n=this.renderEl(this.__),e=this._cellName,n.className=(t=n.className)?t+" "+e:e,i.set(n,"cellRef",this),n.setAttribute("cell",e),this._rcs(this.render(this.__),n),this.afterRender()},_rc:function(e,t,n,i){var r;g(e)&&(e=new s(this,e)),e.constructor===s?e.r(t):1===(r=e.nodeType)||3===r?i.push(t.insertBefore(e,n)):m(e)?this._rcs(e,t,n,i):i.push(t.insertBefore(v.createTextNode(e),n))},_rcs:function(e,t,n,i){var r,o,u;if(null==n&&(n=null),null==i&&(i=[]),null==e)return i;for(m(e)||(e=[e]),o=0,u=e.length;u>o;o++)r=e[o],null!=r&&this._rc(r,t,n,i);return i}})}),define("dir/MockNested",["require","cell/defineView!"],function(e){return e("cell/defineView!")({render:function(){return["MockNested"]}})}),window.__installedViews={"dir/MockNested":1,Mock:1},define("Mock",["require","dir/MockNested","cell/defineView!"],function(e){var t;return t=e("dir/MockNested"),e("cell/defineView!")({render:function(e){return["Mock: ",e(t)]}})}),define("App",["require","./Mock"],function(e){var t;return t=e("./Mock"),document.body.appendChild((new t).el)}),require("App");