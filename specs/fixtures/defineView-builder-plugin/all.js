/**
 * almond 0.2.3 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

var requirejs,require,define;(function(e){function n(e,n){return g.call(e,n)}function t(e,n){var t,r,i,o,u,l,s,c,f,d,a=n&&n.split("/"),p=v.map,h=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(n){for(a=a.slice(0,a.length-1),e=a.concat(e.split("/")),c=0;e.length>c;c+=1)if(d=e[c],"."===d)e.splice(c,1),c-=1;else if(".."===d){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((a||h)&&p){for(t=e.split("/"),c=t.length;c>0;c-=1){if(r=t.slice(0,c).join("/"),a)for(f=a.length;f>0;f-=1)if(i=p[a.slice(0,f).join("/")],i&&(i=i[r])){o=i,u=c;break}if(o)break;!l&&h&&h[r]&&(l=h[r],s=c)}!o&&l&&(o=l,u=s),o&&(t.splice(0,u,o),e=t.join("/"))}return e}function r(n,t){return function(){return f.apply(e,_.call(arguments,0).concat([n,t]))}}function i(e){return function(n){return t(n,e)}}function o(e){return function(n){p[e]=n}}function u(t){if(n(h,t)){var r=h[t];delete h[t],m[t]=!0,c.apply(e,r)}if(!n(p,t)&&!n(m,t))throw Error("No "+t);return p[t]}function l(e){var n,t=e?e.indexOf("!"):-1;return t>-1&&(n=e.substring(0,t),e=e.substring(t+1,e.length)),[n,e]}function s(e){return function(){return v&&v.config&&v.config[e]||{}}}var c,f,d,a,p={},h={},v={},m={},g=Object.prototype.hasOwnProperty,_=[].slice;d=function(e,n){var r,o=l(e),s=o[0];return e=o[1],s&&(s=t(s,n),r=u(s),e||(e=n)),s?e=r&&r.normalize?r.normalize(e,i(n)):t(e,n):(e=t(e,n),o=l(e),s=o[0],e=o[1],s&&(r=u(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:r}},a={require:function(e){return r(e)},exports:function(e){var n=p[e];return n!==void 0?n:p[e]={}},module:function(e){return{id:e,uri:"",exports:p[e],config:s(e)}}},c=function(t,i,l,s){var c,f,v,g,_,y,w=[];if(s=s||t,"function"==typeof l){for(i=!i.length&&l.length?["require","exports","module"]:i,_=0;i.length>_;_+=1)if(g=d(i[_],s),f=g.f,"require"===f)w[_]=a.require(t);else if("exports"===f)w[_]=a.exports(t),y=!0;else if("module"===f)c=w[_]=a.module(t);else if(n(p,f)||n(h,f)||n(m,f))w[_]=u(f);else{if(!g.p)throw Error(t+" missing "+f);g.p.load(g.n,r(s,!0),o(f),{}),w[_]=p[f]}v=l.apply(p[t],w),t&&(c&&c.exports!==e&&c.exports!==p[t]?p[t]=c.exports:v===e&&y||(p[t]=v))}else t&&(p[t]=l)},requirejs=require=f=function(n,t,r,i,o){return"string"==typeof n?a[n]?a[n](t):u(d(n,t).f):(n.splice||(v=n,t.splice?(n=t,t=r,r=null):n=e),t=t||function(){},"function"==typeof r&&(r=i,i=o),i?c(e,n,t,r):setTimeout(function(){c(e,n,t,r)},15),f)},f.config=function(e){return v=e,f},define=function(e,t,r){t.splice||(r=t,t=[]),n(p,e)||n(h,e)||(h[e]=[e,t,r])},define.amd={jQuery:!0}})(),define("../../../src/almond",function(){}),define("cell/defineView",["cell/View"],function(e){var n;return n=window.__installedViews||{},{pluginBuilder:"cell/defineView-builder-plugin",load:function(t,r,i){var o;n[t]||(n=!0,o=document.createElement("link"),o.href=r.toUrl(t+".css"),o.rel="stylesheet",o.type="text/css",document.head.appendChild(o)),i(function(n){return n||(n={}),n.className=n._cellName=/(.*\/)?(.*)$/.exec(t)[2],e.extend(n)})}}}),define("util/type",{isA:Array.isArray||function(e){return e instanceof Array},isS:function(e){return"string"==typeof e},isF:function(e){return"function"==typeof e}}),define("dom/data",[],function(){var e,n,t;return t=1,e={},n="dom-"+(new Date).getTime(),{get:function(r,i){var o,u,l;return l=!(null!=i),(o=r[n])?u=e[o]:l&&(e[r[n]=t++]=u={}),u?l?u:u[i]:void 0},set:function(r,i,o){var u,l;(u=r[n])?e[u][i]=o:(e[r[n]=t++]=l={},l[i]=o)},remove:function(t,r){var i,o;(i=t[n])&&(o=e[i])&&(null!=r?delete o[r]:(o.handle&&o.handle.destroy&&o.handle.destroy(),delete e[i],t[n]=void 0))}}}),define("util/ev",{rm:function(e,n,t){var r,i,o;for(i=-1,o="number"==typeof t;r=e[++i];)(o?r[t]===n:r[0]===n&&r[1]===t)&&e.splice(i--,1)}}),define("dom/browser",{msie:Number((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])}),define("dom/events",["util/ev","dom/browser","dom/data"],function(e,n,t){var r,i,o,u,l,s;return i=window.document.addEventListener?function(e,n,t){e.addEventListener(n,t,!1)}:function(e,n,t){e.attachEvent("on"+n,t)},s=window.document.removeEventListener?function(e,n,t){e.removeEventListener(n,t,!1)}:function(e,n,t){e.detachEvent("on"+n,t)},u=function(){r(this.elem,this.events)},o=function(e,r){var i;return i=function(i,o){var u,l,s,c,f,d,a,p;if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||document),null==i.defaultPrevented&&(d=i.preventDefault,i.preventDefault=function(){i.defaultPrevented=!0,d.call(i)},i.defaultPrevented=!1),i.isDefaultPrevented=function(){return i.defaultPrevented},s=r[o||i.type]){for(f=!1,a=0,p=s.length;p>a;a++)c=s[a],f||(f=c[0].viewHandler),c[0].call(c[1]||e,i);if(f)for(l=e;l;){if(u=t.get(l,"cellRef")){"function"==typeof u.updateBinds&&u.updateBinds();break}l=l.parentNode}}8>=n.msie?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)},i.elem=e,i.events=r,i.destroy=u,i},r=function(e,n){var t;for(t in n)s(e,t,n[t]),delete n[t]},{on:l=function(e,n,r,u){var s,c,f,d;(f=t.get(e,"events"))||t.set(e,"events",f={}),(d=t.get(e,"handle"))||t.set(e,"handle",d=o(e,f)),(c=f[n])||("mouseenter"===n||"mouseleave"===n?(s=0,f.mouseenter=[],f.mouseleave=[],l(e,"mouseover",function(e){return s++,1===s?d(e,"mouseenter"):void 0}),l(e,"mouseout",function(e){return s--,0===s?d(e,"mouseleave"):void 0})):(i(e,n,d),f[n]=[]),c=f[n]),c.push([r,u])},off:function(n,i,o){var u,l;l=t.get(n,"handle"),u=t.get(n,"events"),l&&(null!=i?null!=o?e.rm(u[i],o,0):(s(n,i,u[i]),delete u[i]):r(n,u))}}}),define("util/extend",[],function(){return function(e){var n,t,r,i;if(t=this,n=function(r){return this instanceof n?(t.call(this,r),e&&e.constructor&&e.constructor.call(this,r),void 0):new n(r)},n.extend=t.extend,r=function(){},r.prototype=t.prototype,n.prototype=new r,e)for(i in e)n.prototype[i]=e[i];return n}});var __slice=[].slice;define("cell/Events",["util/type","util/extend","util/ev"],function(e,n,t){var r;return r=function(){this._e={any:[]}},r.extend=n,r.prototype={constructor:r,on:function(n,t,r){var i;return e.isS(n)&&e.isF(t)?(((i=this._e)[n]||(i[n]=[])).push([t,r]),!0):void 0},off:function(e,n,r){var i,o;if(o=null!=e?{type:this._e[e]}:this._e,null!=n)null==r&&(r=0);else{if(null==r)return;n=r,r=1}for(e in o)(i=o[e])&&t.rm(i,n,r)},trigger:function(){var e,n,t,r,i;if(t=arguments[0],n=arguments.length>=2?__slice.call(arguments,1):[],e=this._e.any.concat(this._e[t]||[]),i=e.length)for(;i--;)r=e[i],r[0].apply(r[1],[t].concat(n))}},r}),define("cell/Model",["util/type","cell/Events"],function(e,n){return n.extend({constructor:function(e){this._a=e||{}},get:function(e){return this._a[e]},set:function(n,t){var r;return e.isS(n)&&this._a[n]!==t?(r=this._a[n],this.trigger("change:"+n,this,this._a[n]=t,r),!0):void 0},onChangeAndDo:function(e,n,t){this.on("change:"+e,n,t)&&n("initial:"+e,this,this.get(e))}})}),define("cell/View",["util/type","dom/data","dom/events","cell/Model"],function(e,n,t,r){var i,o,u;return o=function(){},u=function(e,n){var r,o,u,l,s,c,f;if(r=[].slice.call(arguments,n&&n.constructor===Object?(s=n,2):1),"string"==typeof e){if(u=/^(\w+)?(#([\w\-]+))?(\.[\w\.\-]+)?$/.exec(e)){c=document.createElement(u[1]||"div"),u[3]&&c.setAttribute("id",u[3]),u[4]&&(c.className=u[4].slice(1).replace(/\./g," "));for(o in s)f=s[o],(l=/^on(\w+)/.exec(o))?(f.viewHandler=!0,t.on(c,l[1],f,this)):this._renderAttr(o,f,c)}}else e&&e.prototype instanceof i&&(c=new e(s).el);return c?(this._renderChildren(r,c),c):void 0},u["if"]=function(e,n){var t;return"function"==typeof n[t=e?"then":"else"]?n[t]():void 0},u.each=function(e,n){var t,r,o;if(e)for(r=e.length,t=-1,o=[];r>++t;)o.push(n.prototype instanceof i?new n({model:e[t]}).el:n(e[t],t,e));return o},i=r.extend({constructor:function(e){this.options=null!=e?e:{},this.model=this.options.model,delete this.options.model,this.collection=this.options.collection,delete this.options.collection,this._constructor(),this._render_el()},beforeRender:o,render_el:function(){return document.createElement("div")},render:o,afterRender:o,__:u,_constructor:function(){var e=this;u=i.prototype.__,this.__=function(){return u.apply(e,arguments)},this.__["if"]=u["if"],this.__.each=u.each},_render_el:function(){var e;this.beforeRender(),this.el=this.render_el(this.__),this.el.className=(e=this.el.className)?e+" "+this._cellName:this._cellName,n.set(this.el,"cellRef",this),this.el.setAttribute("cell",this._cellName),this._renderChildren(this.render(this.__),this.el),this.afterRender()},_renderAttr:function(e,n,t){t.setAttribute(e,n)},_renderChild:function(n,t,r,i){var o;1===(o=n.nodeType)||3===o?i.push(t.insertBefore(n,r)):e.isA(n)?this._renderChildren(n,t,r,i):i.push(t.insertBefore(document.createTextNode(n),r))},_renderChildren:function(n,t,r,i){var o,u,l;if(null==r&&(r=null),null==i&&(i=[]),null==n)return i;for(e.isA(n)||(n=[n]),u=0,l=n.length;l>u;u++)o=n[u],null!=o&&this._renderChild(o,t,r,i);return i}})}),define("dir/MockNested",["require","cell/defineView!"],function(e){return e("cell/defineView!")({render:function(){return["MockNested"]}})}),window.__installedViews={"dir/MockNested":1,Mock:1},define("Mock",["require","dir/MockNested","cell/defineView!"],function(e){var n;return n=e("dir/MockNested"),e("cell/defineView!")({render:function(e){return["Mock: ",e(n)]}})}),define("App",["require","./Mock"],function(e){var n;return n=e("./Mock"),document.body.appendChild((new n).el)}),require("App");