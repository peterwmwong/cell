/**
 * almond 0.2.3 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(){var e,n,t;(function(r){function i(e,n){return x.call(e,n)}function o(e,n){var t,r,i,o,l,c,u,s,f,a,d=n&&n.split("/"),p=g.map,h=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(n){for(d=d.slice(0,d.length-1),e=d.concat(e.split("/")),s=0;e.length>s;s+=1)if(a=e[s],"."===a)e.splice(s,1),s-=1;else if(".."===a){if(1===s&&(".."===e[2]||".."===e[0]))break;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||h)&&p){for(t=e.split("/"),s=t.length;s>0;s-=1){if(r=t.slice(0,s).join("/"),d)for(f=d.length;f>0;f-=1)if(i=p[d.slice(0,f).join("/")],i&&(i=i[r])){o=i,l=s;break}if(o)break;!c&&h&&h[r]&&(c=h[r],u=s)}!o&&c&&(o=c,l=u),o&&(t.splice(0,l,o),e=t.join("/"))}return e}function l(e,n){return function(){return p.apply(r,N.call(arguments,0).concat([e,n]))}}function c(e){return function(n){return o(n,e)}}function u(e){return function(n){v[e]=n}}function s(e){if(i(_,e)){var n=_[e];delete _[e],y[e]=!0,d.apply(r,n)}if(!i(v,e)&&!i(y,e))throw Error("No "+e);return v[e]}function f(e){var n,t=e?e.indexOf("!"):-1;return t>-1&&(n=e.substring(0,t),e=e.substring(t+1,e.length)),[n,e]}function a(e){return function(){return g&&g.config&&g.config[e]||{}}}var d,p,h,m,v={},_={},g={},y={},x=Object.prototype.hasOwnProperty,N=[].slice;h=function(e,n){var t,r=f(e),i=r[0];return e=r[1],i&&(i=o(i,n),t=s(i),e||(e=n)),i?e=t&&t.normalize?t.normalize(e,c(n)):o(e,n):(e=o(e,n),r=f(e),i=r[0],e=r[1],i&&(t=s(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:t}},m={require:function(e){return l(e)},exports:function(e){var n=v[e];return n!==void 0?n:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:a(e)}}},d=function(e,n,t,o){var c,f,a,d,p,g,x=[];if(o=o||e,"function"==typeof t){for(n=!n.length&&t.length?["require","exports","module"]:n,p=0;n.length>p;p+=1)if(d=h(n[p],o),f=d.f,"require"===f)x[p]=m.require(e);else if("exports"===f)x[p]=m.exports(e),g=!0;else if("module"===f)c=x[p]=m.module(e);else if(i(v,f)||i(_,f)||i(y,f))x[p]=s(f);else{if(!d.p)throw Error(e+" missing "+f);d.p.load(d.n,l(o,!0),u(f),{}),x[p]=v[f]}a=t.apply(v[e],x),e&&(c&&c.exports!==r&&c.exports!==v[e]?v[e]=c.exports:a===r&&g||(v[e]=a))}else e&&(v[e]=t)},e=n=p=function(e,n,t,i,o){return"string"==typeof e?m[e]?m[e](n):s(h(e,n).f):(e.splice||(g=e,n.splice?(e=n,n=t,t=null):e=r),n=n||function(){},"function"==typeof t&&(t=i,i=o),i?d(r,e,n,t):setTimeout(function(){d(r,e,n,t)},15),p)},p.config=function(e){return g=e,p},t=function(e,n,t){n.splice||(t=n,n=[]),i(v,e)||i(_,e)||(_[e]=[e,n,t])},t.amd={jQuery:!0}})(),t("../../../src/almond",function(){}),t("cell/defineView",["cell/View"],function(e){var n;return n={pluginBuilder:"cell/defineView-builder-plugin",load:function(t,r,i){var o;(n._installed||(n._installed={}))[t]||(n._installed[t]=!0,o=document.createElement("link"),o.href=r.toUrl(t+".css"),o.rel="stylesheet",o.type="text/css",document.head.appendChild(o)),i(function(n){return n||(n={}),n.className=n._cellName=/(.*\/)?(.*)$/.exec(t)[2],e.extend(n)})}}}),t("dom/data",[],function(){var e,n,t;return t=1,e={},n="dom-"+(new Date).getTime(),{get:function(r,i){var o,l,c;return c=!(null!=i),(o=r[n])?l=e[o]:c&&(e[r[n]=t++]=l={}),l?c?l:l[i]:void 0},set:function(r,i,o){var l,c;(l=r[n])?e[l][i]=o:(e[r[n]=t++]=c={},c[i]=o)},remove:function(t,r){var i,o;(i=t[n])&&(o=e[i])&&(null!=r?delete o[r]:(o.handle&&o.handle.destroy&&o.handle.destroy(),delete e[i],t[n]=void 0))}}}),t("dom/mutate",["dom/data"],function(e){return{remove:function(n){var t;return e.remove(n),(t=n.parentNode)?t.removeChild(n):void 0}}}),t("dom/class",[],function(){var e,n;return e=/[\t\r\n]/g,n=function(e){return e&&e.replace(/^\s+|\s+$/g,"")},{add:function(t,r){var i;r&&(t.className=t.className?(i=(" "+t.className+" ").replace(e," "),i.indexOf(0>" "+r+" ")?n(i+r):t.className):r)},remove:function(e,t){var r;t&&e.className&&(r=RegExp(" "+t,"g"),e.className=n((" "+e.className+" ").replace(r,"")))},has:function(n,t){return(" "+n.className+" ").replace(e," ").indexOf(" "+t+" ")>-1}}}),t("cell/View",["dom/mutate","dom/data","dom/class"],function(e,n,t){var r,i,o,l,c,u;i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,n){var t,i,o,l,c,u;if(t=[].slice.call(arguments,n&&n.constructor===Object?(l=n,2):1),"string"==typeof e){if(o=/^(\w+)?(#([\w\-]+))*(\.[\w\.\-]+)?$/.exec(e)){c=document.createElement(o[1]||"div"),o[3]&&c.setAttribute("id",o[3]),o[4]&&(c.className=o[4].slice(1).replace(/\./g," "));for(i in l)u=l[i],this._renderAttr(i,u,c)}}else e&&e.prototype instanceof r&&(c=new e(l).el);return c?(this._renderChildren(t,c),c):void 0},c["if"]=function(e,n){var t;return"function"==typeof n[t=e?"then":"else"]?n[t]():void 0},c.each=function(e,n){var t,r,i,o,l;for(l=[],t=i=0,o=e.length;o>i;t=++i)r=e[t],l.push(n(r,t,e));return l},r=function(e){var n;this.options=e,null==(n=this.options)&&(this.options={}),this._constructor(),this._render_el()},u={beforeRender:function(){},render_el:function(){return document.createElement("div")},render:function(){},afterRender:function(){},__:c,remove:function(){e.remove(this.el),delete this.el},_constructor:function(){var e=this;c=r.prototype.__,this.__=function(){return c.apply(e,arguments)},this.__["if"]=c["if"],this.__.each=c.each},_render_el:function(){return this.beforeRender(),this.el=this.render_el(this.__),t.add(this.el,this._cellName),n.set(this.el,"cellRef",this),this.el.setAttribute("cell",this._cellName),this._renderChildren(this.render(this.__),this.el),this.afterRender()},_renderAttr:function(e,n,t){t.setAttribute(e,n)},_renderChild:function(e,n,t,r){var o;1===(o=e.nodeType)||3===o?r.push(n.insertBefore(e,t)):i(e)?this._renderChildren(e,n,t,r):r.push(n.insertBefore(document.createTextNode(e),t))},_renderChildren:function(e,n,t,r){var o,l,c;if(null==t&&(t=null),null==r&&(r=[]),null==e)return r;for(i(e)||(e=[e]),l=0,c=e.length;c>l;l++)o=e[l],null!=o&&this._renderChild(o,n,t,r);return r}};for(o in u)l=u[o],r.prototype[o]=l;return r.extend=function(e){var n,t,r,i,o;if(t=this,n=function(e){t.call(this,e)},n.extend=t.extend,r=function(){},r.prototype=t.prototype,n.prototype=new r,e)for(i in e)o=e[i],n.prototype[i]=o;return n},r}),t("dir/MockNested",["require","cell/defineView!"],function(e){return e("cell/defineView!")({render:function(){return["MockNested"]}})}),n(["cell/defineView"],function(e){e._installed={"dir/MockNested":1,Mock:1}}),t("Mock",["require","dir/MockNested","cell/defineView!"],function(e){var n;return n=e("dir/MockNested"),e("cell/defineView!")({render:function(e){return["Mock: ",e(n)]}})}),t("App",["require","./Mock"],function(e){var n;return n=e("./Mock"),document.body.appendChild((new n).el)}),n(["App"])})();