/**
 * almond 0.2.3 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

var requirejs,require,define;(function(e){function t(e,t){return g.call(e,t)}function n(e,t){var n,r,i,o,l,u,s,c,f,a,d=t&&t.split("/"),h=v.map,p=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=d.concat(e.split("/")),c=0;e.length>c;c+=1)if(a=e[c],"."===a)e.splice(c,1),c-=1;else if(".."===a){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||p)&&h){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),d)for(f=d.length;f>0;f-=1)if(i=h[d.slice(0,f).join("/")],i&&(i=i[r])){o=i,l=c;break}if(o)break;!u&&p&&p[r]&&(u=p[r],s=c)}!o&&u&&(o=u,l=s),o&&(n.splice(0,l,o),e=n.join("/"))}return e}function r(t,n){return function(){return f.apply(e,_.call(arguments,0).concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function o(e){return function(t){h[e]=t}}function l(n){if(t(p,n)){var r=p[n];delete p[n],m[n]=!0,c.apply(e,r)}if(!t(h,n)&&!t(m,n))throw Error("No "+n);return h[n]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e){return function(){return v&&v.config&&v.config[e]||{}}}var c,f,a,d,h={},p={},v={},m={},g=Object.prototype.hasOwnProperty,_=[].slice;a=function(e,t){var r,o=u(e),s=o[0];return e=o[1],s&&(s=n(s,t),r=l(s),e||(e=t)),s?e=r&&r.normalize?r.normalize(e,i(t)):n(e,t):(e=n(e,t),o=u(e),s=o[0],e=o[1],s&&(r=l(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:r}},d={require:function(e){return r(e)},exports:function(e){var t=h[e];return t!==void 0?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:s(e)}}},c=function(n,i,u,s){var c,f,v,g,_,y,w=[];if(s=s||n,"function"==typeof u){for(i=!i.length&&u.length?["require","exports","module"]:i,_=0;i.length>_;_+=1)if(g=a(i[_],s),f=g.f,"require"===f)w[_]=d.require(n);else if("exports"===f)w[_]=d.exports(n),y=!0;else if("module"===f)c=w[_]=d.module(n);else if(t(h,f)||t(p,f)||t(m,f))w[_]=l(f);else{if(!g.p)throw Error(n+" missing "+f);g.p.load(g.n,r(s,!0),o(f),{}),w[_]=h[f]}v=u.apply(h[n],w),n&&(c&&c.exports!==e&&c.exports!==h[n]?h[n]=c.exports:v===e&&y||(h[n]=v))}else n&&(h[n]=u)},requirejs=require=f=function(t,n,r,i,o){return"string"==typeof t?d[t]?d[t](n):l(a(t,n).f):(t.splice||(v=t,n.splice?(t=n,n=r,r=null):t=e),n=n||function(){},"function"==typeof r&&(r=i,i=o),i?c(e,t,n,r):setTimeout(function(){c(e,t,n,r)},15),f)},f.config=function(e){return v=e,f},define=function(e,n,r){n.splice||(r=n,n=[]),t(h,e)||t(p,e)||(p[e]=[e,n,r])},define.amd={jQuery:!0}})(),define("../../../src/almond",function(){}),define("cell/defineView",["cell/View"],function(e){var t;return t=window.__installedViews||{},{pluginBuilder:"cell/defineView-builder-plugin",load:function(n,r,i){var o;t[n]||(t=!0,o=document.createElement("link"),o.href=r.toUrl(n+".css"),o.rel="stylesheet",o.type="text/css",document.head.appendChild(o)),i(function(t){return t||(t={}),t.className=t._cellName=/(.*\/)?(.*)$/.exec(n)[2],e.extend(t)})}}}),define("util/type",{isA:Array.isArray||function(e){return e instanceof Array},isS:function(e){return"string"==typeof e},isF:function(e){return"function"==typeof e}}),define("dom/data",[],function(){var e,t,n;return n=1,e={},t="dom-"+(new Date).getTime(),{get:function(r,i){var o,l,u;return u=!(null!=i),(o=r[t])?l=e[o]:u&&(e[r[t]=n++]=l={}),l?u?l:l[i]:void 0},set:function(r,i,o){var l,u;(l=r[t])?e[l][i]=o:(e[r[t]=n++]=u={},u[i]=o)},remove:function(n,r){var i,o;(i=n[t])&&(o=e[i])&&(null!=r?delete o[r]:(o.handle&&o.handle.destroy&&o.handle.destroy(),delete e[i],n[t]=void 0))}}}),define("util/ev",{rm:function(e,t,n){var r,i,o;for(i=-1,o="number"==typeof n;r=e[++i];)(o?r[n]===t:r[0]===t&&r[1]===n)&&e.splice(i--,1)}}),define("dom/browser",{msie:Number((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])}),define("dom/events",["util/ev","dom/browser","dom/data"],function(e,t,n){var r,i,o,l,u,s;return i=window.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},s=window.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},l=function(){r(this.elem,this.events)},o=function(e,n){var r;return r=function(r,i){var o,l,u,s,c;if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||document),null==r.defaultPrevented&&(u=r.preventDefault,r.preventDefault=function(){r.defaultPrevented=!0,u.call(r)},r.defaultPrevented=!1),r.isDefaultPrevented=function(){return r.defaultPrevented},o=n[i||r.type])for(s=0,c=o.length;c>s;s++)l=o[s],l[0].call(l[1]||e,r);8>=t.msie?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)},r.elem=e,r.events=n,r.destroy=l,r},r=function(e,t){var n;for(n in t)s(e,n,t[n]),delete t[n]},{on:u=function(e,t,r,l){var s,c,f,a;(f=n.get(e,"events"))||n.set(e,"events",f={}),(a=n.get(e,"handle"))||n.set(e,"handle",a=o(e,f)),(c=f[t])||("mouseenter"===t||"mouseleave"===t?(s=0,f.mouseenter=[],f.mouseleave=[],u(e,"mouseover",function(e){return s++,1===s?a(e,"mouseenter"):void 0}),u(e,"mouseout",function(e){return s--,0===s?a(e,"mouseleave"):void 0})):(i(e,t,a),f[t]=[]),c=f[t]),c.push([r,l])},off:function(t,i,o){var l;(l=n.get(t,"events"))&&(null!=i?null!=o?e.rm(l[i],o,0):(s(t,i,l[i]),delete l[i]):r(t,l))}}}),define("util/extend",[],function(){return function(e){var t,n,r,i;if(n=this,t=function(r){return this instanceof t?(n.call(this,r),e&&e.constructor&&e.constructor.call(this,r),void 0):new t(r)},t.extend=n.extend,r=function(){},r.prototype=n.prototype,t.prototype=new r,e)for(i in e)t.prototype[i]=e[i];return t}});var __slice=[].slice;define("cell/Events",["util/type","util/extend","util/ev"],function(e,t,n){var r;return r=function(){this._e={all:[]}},r.extend=t,r.prototype={constructor:r,on:function(t,n,r){var i;return e.isS(t)&&e.isF(n)?(((i=this._e)[t]||(i[t]=[])).push([n,r]),!0):void 0},off:function(e,t,r){var i,o;if(o=null!=e?{type:this._e[e]}:this._e,null!=t)null==r&&(r=0);else{if(null==r)return;t=r,r=1}for(e in o)(i=o[e])&&n.rm(i,t,r)},trigger:function(){var e,t,n,r,i;if(n=arguments[0],t=arguments.length>=2?__slice.call(arguments,1):[],e=this._e.all.concat(this._e[n]||[]),i=e.length)for(;i--;)r=e[i],r[0].apply(r[1],[n].concat(t))}},r}),define("util/hash",[],function(){var e;return e=0,function(t){var n;return(n=typeof t)+":"+("object"===n&&null!==t?t.$$hashkey||(t.$$hashkey=(++e).toString(36)):t)}}),define("cell/util/spy",["util/hash"],function(e){var t,n;return n=function(){try{this.cb(this.expr())}catch(e){}},t=!1,{addCol:function(){t&&(t.c[e(this)]=this)},addModel:function(n){var r,i;t&&((r=t.m[i=e(this)])||(r=t.m[i]={m:this,props:{}}),r.props[n]=1)},watch:function(e,r){var i,o,l,u,s,c,f,a,d,h,p;u={expr:e,cb:r},t={m:{},c:{}};try{d=e()}catch(v){}i=t,t=!1,h=i.m;for(c in h)if(s=h[c],(a=s.props)[void 0])s.m.on("all",n,u);else for(f in a)s.m.on("change:"+f,n,u);p=i.c;for(l in p)o=p[l],o.on("all",n,u);r(d)}}}),define("cell/Model",["util/type","cell/Events","cell/util/spy"],function(e,t,n){var r;return r=t.extend({constructor:function(e){this._a=e||{}},attributes:function(){var e,t;this._s(),t={};for(e in this._a)t[e]=this._a[e];return t},get:function(e){return this._s(e),this._a[e]},set:function(t,n){var r;return e.isS(t)&&this._a[t]!==n?(r=this._a[t],this.trigger("change:"+t,this,this._a[t]=n,r),!0):void 0},onChangeAndDo:function(e,t,n){this.on("change:"+e,t,n)&&t("initial:"+e,this,this.get(e))},_s:n.addModel})}),define("cell/View",["util/type","dom/data","dom/events","cell/Model"],function(e,t,n,r){var i,o,l,u;return l=function(){},o=document,u=function(e,t){var r,l,u,s,c,f,a;if(r=[].slice.call(arguments,t&&t.constructor===Object?(c=t,2):1),"string"==typeof e){if(u=/^(\w+)?(#([\w\-]+))?(\.[\w\.\-]+)?$/.exec(e)){f=o.createElement(u[1]||"div"),u[3]&&f.setAttribute("id",u[3]),u[4]&&(f.className=u[4].slice(1).replace(/\./g," "));for(l in c)a=c[l],(s=/^on(\w+)/.exec(l))?n.on(f,s[1],a,this):this._renderAttr(l,a,f)}}else e&&e.prototype instanceof i&&(f=new e(c).el);return f?(this._renderChildren(r,f),f):void 0},u["if"]=function(e,t){var n;return"function"==typeof t[n=e?"then":"else"]?t[n]():void 0},u.each=function(e,t){var n,r,o;if(e)for(r=e.length,n=-1,o=[];r>++n;)o.push(t.prototype instanceof i?new t({model:e[n]}).el:t(e[n],n,e));return o},i=r.extend({constructor:function(e){var t,n=this;this.options=null!=e?e:{},this.model=this.options.model,delete this.options.model,this.collection=this.options.collection,delete this.options.collection,u=i.prototype.__,t=this.__=function(){return u.apply(n,arguments)},t["if"]=u["if"],t.each=u.each,t.view=this,this._render_el()},beforeRender:l,render_el:function(){return o.createElement("div")},render:l,afterRender:l,__:u,_render_el:function(){var e;this.beforeRender(),this.el=this.render_el(this.__),this.el.className=(e=this.el.className)?e+" "+this._cellName:this._cellName,t.set(this.el,"cellRef",this),this.el.setAttribute("cell",this._cellName),this._renderChildren(this.render(this.__),this.el),this.afterRender()},_renderAttr:function(e,t,n){n.setAttribute(e,t)},_renderChild:function(t,n,r,i){var l;1===(l=t.nodeType)||3===l?i.push(n.insertBefore(t,r)):e.isA(t)?this._renderChildren(t,n,r,i):i.push(n.insertBefore(o.createTextNode(t),r))},_renderChildren:function(t,n,r,i){var o,l,u;if(null==r&&(r=null),null==i&&(i=[]),null==t)return i;for(e.isA(t)||(t=[t]),l=0,u=t.length;u>l;l++)o=t[l],null!=o&&this._renderChild(o,n,r,i);return i}})}),define("dir/MockNested",["require","cell/defineView!"],function(e){return e("cell/defineView!")({render:function(){return["MockNested"]}})}),window.__installedViews={"dir/MockNested":1,Mock:1},define("Mock",["require","dir/MockNested","cell/defineView!"],function(e){var t;return t=e("dir/MockNested"),e("cell/defineView!")({render:function(e){return["Mock: ",e(t)]}})}),define("App",["require","./Mock"],function(e){var t;return t=e("./Mock"),document.body.appendChild((new t).el)}),require("App");