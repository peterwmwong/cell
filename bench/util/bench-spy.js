// Generated by CoffeeScript 1.6.1

define(function(require) {
  var bench, runBench, settings;
  bench = require('../bench-utils/bench');
  requirejs.config({
    context: 'now',
    baseUrl: '../../../src',
    deps: ['cell/Model', 'cell/Collection', 'cell/util/spy'],
    callback: function(Model, Collection, spy) {
      window.ModelNow = Model;
      window.CollectionNow = Collection;
      window.spyNow = spy;
      runBench();
    }
  });
  requirejs.config({
    context: 'baseline',
    baseUrl: 'https://raw.github.com/peterwmwong/cell/master/src/',
    deps: ['cell/Model', 'cell/Collection', 'cell/util/spy'],
    callback: function(Model, Collection, spy) {
      window.ModelBaseline = Model;
      window.CollectionBaseline = Collection;
      window.spyBaseline = spy;
      runBench();
    }
  });
  settings = void 0;
  runBench = function() {
    if (settings && window.spyBaseline && window.spyNow && window.ModelBaseline && window.ModelNow) {
      bench.run(settings);
    }
  };
  return function(_arg) {
    var baseline, both, now, setup, teardown;
    baseline = _arg.baseline, now = _arg.now, both = _arg.both, setup = _arg.setup, teardown = _arg.teardown;
    settings = {
      setup: setup || '',
      teardown: teardown || ''
    };
    settings.tests = {
      baseline: baseline,
      now: now
    };
    return runBench();
  };
});
